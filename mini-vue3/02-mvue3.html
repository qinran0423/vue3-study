<div id="app">
	<h3>{{title}}</h3>
	<h3>{{state.title}}</h3>
</div>

<script>
	const Vue = {
		createApp(options) {
			return {
				mount(selector) {
					const parent = document.querySelector(selector);

					if(!options.render) {
						options.render = this.complie(parent.innerHTML);
					}

					const el = options.render.call(options.data())

					parent.innerHTML = '';
					parent.appendChild(el);
					
				},
				complie(template) {
					return function render() {
						const h3 = document.createElement('h3');
						h3.textContent =  this.title;
						return h3;
					}
				}
			}
		}
	}
</script>

<script>
	// 1.函数式方式获取实例 : 类型的支持会更好，迎合ts
	// 2. 简化、标准化、一致性: render函数，sync修饰符删除，指令定义，v-model调整
	// 3. tree-shaking
	// 4. 复用性：composition api
	// 5. 性能优化： 响应式、编译期优化
	// 6. 扩展性：自定义渲染器
	const {
		createApp,
		reactive
	} = Vue
	const app = createApp({
		data() {
			return {
				title: 'hello, vue3!'
			}
		},
		setup() {
			// return {
			//     state: reactive({
			//         title: 'hello, vue3!!!!!!'
			//     })
			// }
		}
	})

	app.mount('#app')
</script>